var Forms,Notices;(App=App||{}).Animal=function(){this.data,this.DAO,this.Datagrid,this.ref="animal",this.init()},App.Animal.prototype={init:function(){this.DAO=new App.DAO,this.addEventListeners(),DEBUG&&console.log("Animal Module is Ready...")},animations:function(){},addEventListeners:function(t){var e=this;$("section#animal").on("click","a.onClick",function(){switch($(this).data("exec")){case"save":e.save($(this))}})},save:function(t){var e=this,i="#"+t.closest("form").attr("id"),n=new App.Forms;if(n.reset(i),n.validate(i)){var s=e.DAO.toObject($(i).serializeArray());e.DAO.execute(e.ref,{exec:"save",data:s},function(t){200==t.status?alert("elemento guardado"):($("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3))})}},getList:function(t){this.DAO.execute(this.ref,{exec:"getList",data:null},function(t){if(200==t.status){for(var e=t.json,i="",n=0;n<e.length;n++)i+="<option>"+e[n].cliente+"</option>";$("#lstClientes").html(i)}else $("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3)})}},(App=App||{}).Auth=function(){this.data,this.DAO,this.ref="auth",this.init()},App.Auth.prototype={init:function(){var t=this;t.DAO=new App.DAO,t.addEventListeners(),t.animations()},animations:function(){$("#login form").removeClass("onReady")},addEventListeners:function(t){var e=this;$("#formAuth").on("click","a.onClick",function(){switch($(this).data("exec")){case"auth":e.auth()}})},auth:function(){var t=this,e=new App.Forms;if(e.reset($("#formAuth")),e.validate($("#formAuth"))){var i=t.DAO.toObject($("#formAuth").serializeArray());t.DAO.execute(t.ref,{exec:"auth",data:i},function(t){200==t.status?window.location=t.redirect:($("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3))})}}},(App=App||{}).Cliente=function(){this.data,this.DAO,this.Datagrid,this.ref="cliente",this.init()},App.Cliente.prototype={init:function(){var t=this;t.DAO=new App.DAO,t.Datagrid=new App.Datagrid,t.addEventListeners(),DEBUG&&console.log("Cliente is ready...")},animations:function(){},addEventListeners:function(t){var e=this;$("section#cliente").on("click","a.onClick",function(){switch($(this).data("exec")){case"save":e.save($(this))}})},save:function(t){var e=this,i="#"+t.closest("form").attr("id"),n=new App.Forms;if(n.reset(i),n.validate(i)){var s=e.DAO.toObject($(i).serializeArray());e.DAO.execute(e.ref,{exec:"save",data:s},function(t){200==t.status?alert("elemento guardado"):($("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3))})}},getList:function(t){this.DAO.execute(this.ref,{exec:"getList",data:null},function(t){if(200==t.status){for(var e=t.json,i="",n=0;n<e.length;n++)i+="<option>"+e[n].cliente+"</option>";$("#lstClientes").html(i)}else $("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3)})}},(App=App||{}).DAO=function(t){this.data=t,this.init()},App.DAO.prototype={init:function(){console.log("DAO is ready...")},execute:function(t,e,i){$.ajax({type:"POST",url:"_ctrl/ctrl."+t+".php",data:e,dataType:"json",success:function(t){i(t)},error:function(t){console.log(t)}})},toObject:function(t){var i={};return $.each(t,function(t,e){i[e.name]=e.value}),i}},(App=App||{}).Datagrid=function(t,e,i){this.data=t,this.init()},App.Datagrid.prototype={init:function(t){},execute:function(e){$.ajax({type:"POST",url:"_ctrl/ctrl."+e.ctrl+".php",data:e.data,dataType:"json",success:function(t){e.callback(t)},error:function(t){console.log(t)}})},toObject:function(t){var i={};return $.each(t,function(t,e){i[e.name]=e.value}),i}},(App=App||{}).Forms=function(){this.init(),this.el},App.Forms.prototype={init:function(){},validate:function(t){return!0},reset:function(t){}};var App,DEBUG=!0;(App=App||{}).Servicio=function(){this.data,this.DAO,this.ref="servicio",this.init()},App.Servicio.prototype={init:function(){this.DAO=new App.DAO,this.addEventListeners()},animations:function(){},addEventListeners:function(t){var e=this;$("section#servicio").on("click","a.onClick",function(){switch($(this).data("exec")){case"save":e.save($(this))}})},save:function(t){var e="#"+t.closest("form").attr("id"),i=new App.Forms;if(i.reset(e),i.validate(e)){var n=this.DAO.toObject($(e).serializeArray());this.DAO.execute(this.ref,{exec:"save",data:n},function(t){200==t.status?alert("elemento guardado"):($("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3))})}},datagrid:function(t){_self.DAO.execute(_self.ref,{exec:"save",data:data},function(t){200==t.status?alert("elemento guardado"):($("#notice").addClass("show"),setTimeout(function(){$("#notice").removeClass("show")},5e3))})}};var Nertek=Nertek||{};Nertek.Usuarios=function(t,e,i){this.id,this.nombre,this.alias,this.email,this.collection,this.DAO=new Nertek.DAO,this.init()},Nertek.Usuarios.prototype={init:function(){}};