{{> head}}
{{> header}}

<main id="app">
  {{> sidebar}}
  <section class="panel">
    <section id="servicio" class="page servicio">
	<div class="breadcrumb"><h5>Home &raquo; Administración de Servicios y Paquetes</h5></div>


		<script>
    $(document).ready(function(){
      $(".tabs a").click(function(){
        $(".tabs a").removeClass("active");
        $(this).addClass("active");
        var idx = $(this).data("idx");
        $(".tab").removeClass("active");
        $(".tab.t"+idx).addClass("active");
      });
    });
    </script>



    <div class="panel window">

      <div class="tabs">
        <a href="#" class="tref active" data-idx="1">Servicios</a>
        <a href="#" class="tref" data-idx="2">Paquetes</a>
      </div>
      <div class="tab t1 active">

        <h1><i class="fas fa-pencil-alt"></i> Registro de Servicio</h1>
        <form id="frmServicio" name="frmServicio" data-model="servicio">
            <div class="row c2">
              <div class="col">
                <label>Nombre de Servicio</label>
                <input type="text" placeholder="" id="servicio" name="servicio" class="isRequired number" />
              </div>
              <div class="col">
                <label>Costo ($)</label>
                <input type="text" placeholder="$0.00" id="costo" name="costo" class="isRequired" />
              </div>

            </div>


            <div class="row actions">
              <div class="col"><a href="javascript:void(0)" data-exec="save" class="btn onClick">Guardar</a></div>
            </div>







        </form>
      </div>

      <div class="tab t2">

        <h1><i class="fas fa-pencil-alt"></i> Registro de Paquetes</h1>
        <form id="frmPaquete" name="frmPaquete" data-model="servicio">
            <div class="row c2">
              <div class="col">
                <label>Nombre de Paquete</label>
                <input type="text" placeholder="" id="paquete" name="paquete" class="isRequired" />
                <br />
                <label>Descripción de Paquete</label>
                <input type="text" placeholder="" id="descripcion" name="descripcion" class="isRequired" />

              </div>
              <div class="col">
                <style>
                .table { width: 100%; height: 200px; border: #e4e4e4 solid 1px;}
                .table table { width: 100%;}
                </style>
                <div class="datagrid">
                  <table id="tblSelServicios" class="bordered" cellpadding="0" cellspacing="0">
                    <thead>
                      <tr>
                        <th>*</th>
                        <th>Servicio</th>
                        <th>Costo</th>
                      </tr>
                    </thead>
                    <tbody>

                    </tbody>
                  </table>
                </div>

              </div>

            </div>


            <div class="row actions">
              <div class="col"><a href="javascript:void(0)" data-exec="savePaquete" class="btn onClick">Guardar</a></div>
            </div>



</form>

      </div>




    </div>

    <!-- DATA GRID -->
    <div class="panel window">





        <h1><i class="fas fa-pencil-alt"></i> Servicios</h1>

        <div class="table">
          <table id="tblServicios" cellpadding="0" cellspacing="0" class="bordered" data-exec="getServicios">
            <thead>
              <tr>
                <th>No.</th>
                <th>Servicio</th>
                <th>Costo ($)</th>
                <th></th>
              </tr>
            </thead>
            <tbody></tbody>
            <tfoot>

            </tfoot>
          </table>
        </div>
    </div>




    </section>
    <script>
    var objServicios;
    $(document).ready(function(e){
		objServicios = new App.Servicio();
		objDatagrid.execute(
        { ctrl : "servicio",
          data: { exec : "getServicios" },
          callback: function(r){
            objServicios.setData(r.json.data);
            var data = r.json.data;
            var buffer = '';
            var buffer_SelServicios = '';
            for(var i=0;i<data.length;i++){
              buffer += '<tr><td>'+data[i].id+'</td><td>'+data[i].servicio+'</td><td>'+data[i].costo+'</td><td></td></tr>';
              if(data[i].tipo==1){
              buffer_SelServicios += '<tr><td><input type="checkbox" id="s_'+i+'" name="s_'+i+'" data-idx="'+i+'" /></td><td>'+data[i].servicio+'</td><td><input type="text" id="costo_'+i+'" name="costo_'+i+'" placeholder="$'+data[i].costo+'" class="small" /></td></tr>';
              }
            }
            console.log(buffer);
            $("#tblServicios > tbody").html(buffer);
            $("#tblSelServicios > tbody").html(buffer_SelServicios);
          }
        });
	});
    </script>


  </section> <!-- /panel -->
  </main>

{{> footer}}

<style>
.small { max-width: 100px; height: 25px;}
</style>
