{{> head}}
{{> header}}

<main id="app">
  {{> sidebar}}
  <section class="panel">
    <section class="page">

        <div class="container">
          <div class="row head">
            <div class="col">
              <h2>Reporte de<span> Ventas Activas</span></h2>
            </div>
            <div class="col aright"></div>
          </div>


          <div class="datagrid">
            <div class="actions">
              <div class="row">
                <div class="col">
                  <label class="small">Mostrar <select><option>25</option><option>50</option><option>100</option></select> resultados</label>
                </div>
                <div class="col aright">
                  <label>Búsqueda: <input id="search" type="text" /></label>
                </div>
              </div>
            </div>
            <table id="tblVentas" cellpadding="0" cellspacing="0" class="bordered" data-ctrl="venta" data-search="cliente">
              <thead>
                <tr>
                  <th>Folio</th>
                  <th>Cliente</th>
                  <th>Vendedor</th>
                  <th>Total</th>
                  <th>Abonado</th>
                  <th>Saldo</th>

                  <th>Días Restantes</th>
                  <th>Fecha Evento</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr data-id="{id}" class="{class}">
                  <td align="center">{folio}</td>
                  <td align="center"><strong>{cliente}</strong></td>
                  <td align="center">{vendedor}</td>
                  <td align="center">${total}</td>
                  <td align="center">${abonado}</td>
                  <td align="center"><strong>${saldo}</strong></td>
                  <td align="center">{fecha_resta}</td>
                  <td align="center">{fecha_evt}</td>
                  <td align="center">
                    <a href="javascript:void(0)" class="onClick" data-exec="modal" data-src="form.abono" data-id="{id}">abono</a>
                    <a href="venta.html?id={id}" class="onClick" data-exec="modalUpdate" data-src="form.articulo">ver</a>
                  </td>
                </tr>
              </tbody>
              <tfoot></tfoot>
            </table>
          </div>
        </div>

    </section>


  </section> <!-- /panel -->
</main>
<script>
App.onReady = function(){
  Page = {
    data : null,
    table : $("#tblVentas"),
    init: function(){
      var _self = this;
      objDAO.execute("venta",{ exec : "getVentas"},function(e){
        _self.data = e.json.data;
        _self.mounted();
      });
    },
    mounted: function(){
      var _self = this;
      objDatagrid.setTable(_self.table);
      objDatagrid.renderTable(_self.data);
    }
  }
  Page.init();
};
</script>
<style>

tr.yellow { background-color: #ffeaa7;}
tr.yellow:hover { background-color: #fdcb6e !important; }


tr.red { background-color: #ffbbbc;}
tr.red:hover { background-color: #fd7778 !important; }

tr.green { background-color: #8cfede;}
tr.green:hover { background-color: #55efc4 !important; }

</style>

{{> footer}}
