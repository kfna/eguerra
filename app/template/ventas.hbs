{{> head}}
{{> header}}

<main id="app">
  {{> sidebar}}

  <section class="panel">
  <section id="ventas" class="page">

  <div class="panel window">



    <div class="tabs">
      <a href="#" class="tref active" data-idx="1">Punto de Venta</a>
    </div>
    <div class="tab t1 active">

      <h1><i class="fas fa-pencil-alt"></i> Registro de Ventas</h1>
      <form id="frmCliente" name="frmCliente" data-model="cliente">


          <div class="row c2">
            <div class="col">

              <div class="row c2">
                <div class="col">
                  <label>Fecha de Venta</label>
                  <input type="text" placeholder="Fecha de Venta" id="fecha" name="fecha" class="isRequired" disabled />

                </div>
                <div class="col">
                  <label>Anticipo</label>
                  <input type="text" placeholder="$0.00" id="rfid" name="rfid" class="isRequired number" />


                </div>

              </div>



              <div class="row c2">
                <div class="col">
                  <label>Cliente</label>
                  <div id="clientes" class="search" data-src="getClientes">
                  <input type="text" placeholder="Búsqueda..." id="cliente" name="cliente" class="isRequired isAutoComplete search" />
                  <div id="lst_clientes" class="select">
                    <ul class="list"></ul>
                  </div>
                  </div>


                </div>
                <div class="col">
                  <label>Fecha de Evento</label>
                  <input type="text" placeholder="Telefono" id="origen" name="origen" class="isRequired" />

                </div>
              </div>



              <div class="row c2">
                <div class="col">
                  <label>Observaciones Internas</label>
                  <input type="text" placeholder="Búsqueda..." id="rfid" name="rfid" class="isRequired number" />

                </div>
                <div class="col">
                  <label>Observaciones</label>
                  <input type="text" placeholder="Telefono" id="origen" name="origen" class="isRequired" />
                </div>
              </div>



            </div>
            <div class="col">
              <style>
              .pos { min-height: 250px; margin-bottom: 15px; margin-top: -38px; }
              .pos table { background-color: #fff;}
              .pos .search { margin-bottom: 5px; margin-top: 20px; text-align: right;}
              .pos .search input { max-width: 350px; display: inline-block;}
              </style>
              <div class="pos">

                <div class="search">
                  <input type="text" placeholder="Búsqueda de servicios y paquetes" />
                </div>

                <table cellpadding="0" cellspacing="0" class="bordered">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Cantidad</th>
                    <th>Descripción</th>
                    <th>Fecha Evento</th>
                    <th>Precio</th>
                  </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center">1</td>
                      <td>1</td>
                      <td>Concepto</td>
                      <td>$0.00</td>
                      <td align="center"><a href="#">editar</a>  <a href="#">eliminar</a></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                  </tbody>
                  <tfoot>

                  </tfoot>
                </table>
              </div>

              <table align="right">
                <tr>
                  <td>Total</td>
                  <td>$0.00</td>
                </tr>
                <tr>
                  <td>Anticipo</td>
                  <td>$0.00</td>
                </tr>
                <tr>
                  <td>Saldo</td>
                  <td>$0.00</td>
                </tr>
              </table>

            </div>

          </div>



          <div class="row actions">
            <div class="col"><a href="javascript:void(0)" data-exec="save" class="btn onClick">Guardar</a></div>
          </div>




      </form>
    </div>
  </div>
</section>
</section>
  </main>

<style>
.search { position: relative; d}
.select { position: absolute; width: 100%; min-height: 150px; background-color: #fff; border: #e4e4e4 solid 1px; box-shadow: 0px 0px 15px rgba(0,0,0,.25); display: none}
.select ul li { padding-left: 15px;}
.select ul li:hover { background-color: #e4e4e4;}
.select ul li a { color: #333; font-weight: bold; padding: 3px; display: block;}
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>

<script>


var today = new Date();
var dd = String(today.getDate()).padStart(2, '0');
var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
var yyyy = today.getFullYear();

today = dd + '/' + mm + '/' + yyyy;
$(document).ready(function(){
  $("#fecha").val(today);
  $("input.isAutoComplete").click(function(){ $(this).next().toggle(); })

});
</script>
<script>
var objCliente;
$(document).ready(function(e){
objCliente = new App.Cliente();



objDatagrid.execute(
    { ctrl : "cliente",
      data: { exec : "getClientes" },
      callback: function(r){
        objCliente.data = r.json.data;
        var data = r.json.data;
        var buffer = '';
        for(var i=0;i<data.length;i++){
          buffer += '<li class="nombre"><a id="" href="javascript:void(0)">'+data[i].nombre+'</a></li>';
        }
        $("#clientes .select ul").html(buffer);
          $("#clientes ul li a").click(function(){
            $(".select").fadeOut();
            $("#cliente").val($(this).html());
          })
        var lstClientes = new List('lst_clientes', ['nombre']);
        $('#cliente').on('keyup', function() {
          var searchString = $(this).val();
          lstClientes.search(searchString);
        });
      }
    });
});
</script>

{{> footer}}
